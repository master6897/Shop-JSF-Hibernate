<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
	
<ui:composition template="/templates/page-template.xhtml">
	<ui:define name="pageContent">
			<div class="card" style="display:flex; justify-content:center; align-items:center; flex-direction: column; width:100%;">
    <h:form style="width:90%; display:flex; justify-content:center; align-items:center; flex-direction: column;">
        <p:growl id="msgs" showDetail="true" skipDetailIfEqualsSummary="true"/>
        <div style="display: flex; margin-bottom: 2rem; width:80%;">
	        <p:fieldset legend="Informacje o koncie" style="width:100%;">
	            <p class="p-m-0">
	            Adres email:
	            <span>#{remoteClient.details.email}</span>
	      		</p>
	      		<p class="p-m-0">
	            Miasto:
	            <span>#{remoteClient.details.city}</span>
	      		</p>
	      		<p class="p-m-0">
	            Kod pocztowy:
	            <span>#{remoteClient.details.postCode}</span>
	      		</p>
	      		<p class="p-m-0">
	            Ulica:
	            <span>#{remoteClient.details.adress}</span>
	      		</p>
	      		<p class="p-m-0">
	            Numer mieszkania:
	            <span>#{remoteClient.details.adress2}</span>
	      		</p>
	        </p:fieldset>
        </div>
        <div style="display: flex; width:80%;">
	        <p:fieldset legend="Dodatkowe adresy" style="width:100%;">
	        	<h:form style="width:90%; display:flex; justify-content:center; align-items:center; flex-direction: column;">
					<h:dataTable var="adres" value="#{deliveryAdressBB.getAdresses(remoteClient.details.id)}"
						border="1" cellpadding="2" cellspacing="2">
						<h:column>
							<f:facet name="header">Nazwa</f:facet>
							#{adres.name}
						</h:column>
						<h:column>
							<f:facet name="header">Miejscowość</f:facet>
							#{adres.city}
						</h:column>
						<h:column>
							<f:facet name="header">Kod pocztowy</f:facet>
							#{adres.postCode}
						</h:column>
						<h:column>
							<f:facet name="header">Ulica</f:facet>
							#{adres.street}
						</h:column>
						<h:column>
							<f:facet name="header">Numer domu</f:facet>
							#{adres.adress}
						</h:column>
						<h:column>
							<f:facet name="header">Numer mieszkania</f:facet>
							#{adres.adress2}
						</h:column>
						<h:column>
							<h:commandButton style="background: red; cursor: pointer;" value="USUŃ" action="#{deliveryAdressBB.deleteAdress(adres)}" />
						</h:column>
					</h:dataTable>
				</h:form>
	      		<h:commandButton value="Dodaj nowy adres" style="cursor: pointer;" action="#{deliveryAdressBB.newAdress()}" />
	        </p:fieldset>
        </div>
    </h:form>
</div>
		</ui:define>
</ui:composition>
</html>